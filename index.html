<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Wherein I blog about my four main interests.">
    <meta name="author" content="Caleb Hattingh">
    <meta name="keywords" content="Python,math,IPython,Cython,Guitar,Piano,Drawing">
    <!-- <meta property="og:title" content=""> -->
    <!-- <meta property="og:image" content=""> -->
    <!-- <meta property="og:description" content=""> -->
    <title>cjrh blog</title>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config(
            {tex2jax: {
                inlineMath: [['$','$'], ['\\(','\\)']],
                displayMath: [['\\[','\\]'], ['$$','$$']]
                }
            }
        );
    </script>
    <script type="text/javascript"
      src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
           m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
             })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-58647468-1', 'auto');
        ga('send', 'pageview');
    </script>
    <link rel="stylesheet" href="stylesheets/syntax.css">
    <link rel="stylesheet" href="stylesheets/base.css">
    <script>
        window.onload = loadContent;

        function loadContent() {
            var post = getFromUrl("post");
            if (post === "") {
                showPost("First post");
            } else {
                showPost(post);
            };
        };

        function loadPage(href)
        {
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", href, false);
            xmlhttp.send();
            return xmlhttp.responseText;
        };

        function showPost(name) {
            var element = document.getElementById("content");
            var postref = "posts/" + name + ".html";
            console.log(postref);
            element.innerHTML=loadPage(postref);
            // You have to render the dynamically-loaded content manually.
            MathJax.Hub.Queue(["Typeset", MathJax.Hub, element]);
            showlocation("pathname");
        }

        function getFromUrl(val) {
            var result = "",
                tmp = [];
            location.search
            //.replace ( "?", "" )
            // this is better, there might be a question mark inside
            .substr(1)
                .split("&")
                .forEach(function (item) {
                tmp = item.split("=");
                if (tmp[0] === val) result = decodeURIComponent(tmp[1]);
            });
            return result;
        };

        function showlocation(element_name) {
            var element = document.getElementById(element_name);
            element.innerHTML = getFromUrl("post");
            // Append an item
            var newElement = document.createElement('div');
            newElement.innerHTML = window.location.search.replace("?", "");
            element.appendChild(newElement);
        };
    </script>
</head>
<body>
    <div id="pathname">test</div>
    <div id="banner">
        <div class="ttext">Python, Numbers, Music, Art</div>
    </div>
    <aside>
        <span>Archive</span>
        <span>Twitter</span>
        <span>Github</span>
        <span>Bitbucket</span>
        <span>LinkedIn</span>
        <span>Resume</span>
    </aside>
    <div id="content"></div>
</body>
</html>
