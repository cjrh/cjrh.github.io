<!DOCTYPE html><html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="This is a demo site for Nikola.">
    <meta name="author" content="Your Name">
    <title>Demo Site | Demo Site</title>
    
            <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="assets/css/rst.css" rel="stylesheet" type="text/css">
        <link href="assets/css/code.css" rel="stylesheet" type="text/css">
        <link href="assets/css/colorbox.css" rel="stylesheet" type="text/css">
        <link href="assets/css/theme.css" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
            <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">

    
    
    
</head>
<body>
<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href=".">Demo Site</a>
    </div>
    <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav">
            
                <li><a href="archive.html">Archives</a>
                </li><li><a href="categories/index.html">Tags</a>
                </li><li><a href="rss.xml">RSS</a>

        </li></ul>

        <ul class="nav navbar-nav navbar-right">
            
            
                
        </ul>
    </div><!-- /.navbar-collapse -->
</nav>

<!-- End of Menubar -->

<div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
        <div class="postbox">
        <h1><a href="posts/first-post-on-githubnikola.html">First post on Github/Nikola</a>
        <small>  
             Posted: <time class="published" datetime="2013-10-26T13:25:43">2013-10-26 13:25</time>
        </small></h1>
        <hr>
        <p>This is my first post on my shiny new Github Pages blog.</p>
            
        
    <p>
        <a href="posts/first-post-on-githubnikola.html#disqus_thread" data-disqus-identifier="cache/posts/first-post-on-githubnikola.html">Comments</a>


        </p></div>
        <div class="postbox">
        <h1><a href="posts/easy-spyder-ide-hacking-setup.html">Easy Spyder IDE hacking setup</a>
        <small>  
             Posted: <time class="published" datetime="2012-12-20T17:32:00">2012-12-20 17:32</time>
        </small></h1>
        <hr>
        <p>I am using pythonxy. I quite like the Spyder IDE that is provided with the
distro. If you want to set things up so that you can easily hack on Spyder
while keeping your python path setup sane, it is quite easy:</p>
<ol class="arabic simple">
<li>Delete <cite>site-packagesspyderlib</cite></li>
<li>Delete <cite>site-packagesspyderplugins</cite></li>
<li>Create <cite>site-packagesspyderlib.pth</cite> with contents:
<cite>D:pathtospyderlibhgrepo</cite></li>
</ol>
<p>This setup makes it easy to hack on Spyder, bugfixes, enhancements,
etc. and pull new versions of spyder while still working easily from your main
python (e.g. pythonxy) distro.</p>
            
        
    <p>
        <a href="posts/easy-spyder-ide-hacking-setup.html#disqus_thread" data-disqus-identifier="cache/posts/easy-spyder-ide-hacking-setup.html">Comments</a>


        </p></div>
        <div class="postbox">
        <h1><a href="posts/alternatives-to-if-__name____main__.html">Alternatives to if __name__=='__main__':</a>
        <small>  
             Posted: <time class="published" datetime="2012-12-01T17:59:00">2012-12-01 17:59</time>
        </small></h1>
        <hr>
        <p>So I find this irritating:</p>
<pre class="code python literal-block">
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Hello'</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre>
<p>I played around a bit and ended up with something that lets one do this:
from mainfunc import main</p>
<pre class="code python literal-block">
<span class="nd">@main</span>
<span class="k">def</span> <span class="nf">runme</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'runme'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">norunme</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'norunme'</span><span class="p">)</span>
</pre>
<p>When this script is run, "runme" is printed, but not "norunme".  Anyone guess
what mainfunc.main() looks like? (By the way, my implementation doesn't work
properly, but it's just a thought experiment for now).</p>
            
        
    <p>
        <a href="posts/alternatives-to-if-__name____main__.html#disqus_thread" data-disqus-identifier="cache/posts/alternatives-to-if-__name____main__.html">Comments</a>


        </p></div>
        <div class="postbox">
        <h1><a href="posts/cython-helper-generator.html">Cython helper generator</a>
        <small>  
             Posted: <time class="published" datetime="2012-11-27T16:46:49">2012-11-27 16:46</time>
        </small></h1>
        <hr>
        <p>I call this makeext.py.  You call it like so:</p>
<pre class="code literal-block">
makeext.py helloworld.pyx module1.pyx module2.pyx
</pre>
<p>or</p>
<pre class="code literal-block">
makeext.py *.pyx
</pre>
<p>and it converts all the given pyx files into pyd binary modules.  Basically, no
setup.py intermediate is required. This is great for small utility-type
applications, but will obviously not be suitable for more complex and
specialized builds.</p>
<p>The code:</p>
<pre class="code python literal-block">
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">splitext</span>

<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">'You must supply one or more .pyx filenames.'</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s">'*.pyx'</span><span class="p">:</span>
    <span class="n">files</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">'.'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">files</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="n">extensions</span> <span class="o">=</span> <span class="p">[(</span><span class="n">splitext</span><span class="p">(</span><span class="n">f</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span> <span class="k">if</span> <span class="n">splitext</span><span class="p">(</span><span class="n">f</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s">'.pyx'</span><span class="p">]</span>

<span class="c"># No pyx files given.</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">extensions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">'No .pyx filenames were supplied.  Exiting.'</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

<span class="c"># Checking for missing files</span>
<span class="n">missing</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">extensions</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">f</span><span class="p">)]</span>
<span class="k">if</span> <span class="n">missing</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">'One or more given files were missing:'</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">missing</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">'    {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">print</span> <span class="s">'Aborting.'</span>

<span class="c"># Restore distutils command line args</span>
<span class="n">sys</span><span class="o">.</span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">'build_ext'</span><span class="p">,</span> <span class="s">'--inplace'</span><span class="p">]</span>

<span class="kn">from</span> <span class="nn">distutils.core</span> <span class="kn">import</span> <span class="n">setup</span>
<span class="kn">from</span> <span class="nn">distutils.extension</span> <span class="kn">import</span> <span class="n">Extension</span>
<span class="kn">from</span> <span class="nn">Cython.Distutils</span> <span class="kn">import</span> <span class="n">build_ext</span>

<span class="n">setup</span><span class="p">(</span>
    <span class="n">cmdclass</span> <span class="o">=</span> <span class="p">{</span><span class="s">'build_ext'</span><span class="p">:</span> <span class="n">build_ext</span><span class="p">},</span>
    <span class="n">ext_modules</span> <span class="o">=</span> <span class="p">[</span><span class="n">Extension</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="p">[</span><span class="n">f</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">extensions</span><span class="p">]</span>
<span class="p">)</span>

<span class="c"># Cleanup: delete intermediate C files.</span>
<span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">extensions</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="s">'.c'</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="s">'.c'</span><span class="p">)</span>
</pre>
            
        
    <p>
        <a href="posts/cython-helper-generator.html#disqus_thread" data-disqus-identifier="cache/posts/cython-helper-generator.html">Comments</a>


        </p></div>
        <div class="postbox">
        <h1><a href="posts/daetools-personal-reminder.html">daetools personal reminder</a>
        <small>  
             Posted: <time class="published" datetime="2012-10-26T14:34:48">2012-10-26 14:34</time>
        </small></h1>
        <hr>
        <p>Note: in daetools you can't do this:</p>
<pre class="code python literal-block">
<span class="n">var</span><span class="o">.</span><span class="n">AssignValue</span><span class="p">()</span>
</pre>
<p>if var is a differential variable.  You must create an equation for it that results in it being constant, e.g.</p>
<pre class="code python literal-block">
<span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">CreateEquation</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span><span class="s">"b"</span><span class="p">)</span>
<span class="n">eq</span><span class="o">.</span><span class="n">Residual</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="p">()</span> <span class="o">-</span> <span class="n">Constant</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="n">unit</span><span class="p">)</span>
</pre>
            
        
    <p>
        <a href="posts/daetools-personal-reminder.html#disqus_thread" data-disqus-identifier="cache/posts/daetools-personal-reminder.html">Comments</a>


        </p></div>
        <div class="postbox">
        <h1><a href="posts/futureproofing.html">Futureproofing</a>
        <small>  
             Posted: <time class="published" datetime="2012-08-27T15:52:38">2012-08-27 15:52</time>
        </small></h1>
        <hr>
        <p>In preparation for transition from Python 2.7 to Python 3.x, it is a really
good idea to set up your editor so that the template for new python modules
carries this line at the top by default:</p>
<pre class="code python literal-block">
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span> <span class="n">unicode_literals</span>
</pre>
            
        
    <p>
        <a href="posts/futureproofing.html#disqus_thread" data-disqus-identifier="cache/posts/futureproofing.html">Comments</a>


        </p></div>
        <div class="postbox">
        <h1><a href="posts/anaconda-python-getting-the-matplotlib-widget-to-work-in-the-qt-designer.html">Anaconda Python, getting the Matplotlib widget to work in the Qt designer</a>
        <small>  
             Posted: <time class="published" datetime="2012-05-28T16:57:34">2012-05-28 16:57</time>
        </small></h1>
        <hr>
        <p>I want to capture my recent experience trying to get the Matplotlib widget to
work in Qt designer using Anaconda CE / Python 2.7 / x64 (Windows edition).</p>
<p>Note that the support files come from the Python(x,y) project.</p>
<ol class="arabic">
<li><p class="first">Install PyQt4.</p>
<blockquote>
<ul class="simple">
<li>Anaconda comes with PySide rather than PyQt4 by default.</li>
<li>I still want to try to get this to work with PySide, by it seems that in
my installation, the designer.exe that launches from within
site-packages/PySide folder does not load any plugins, and I don't know
how to fix that yet.  It may have something to do with environment
variables.</li>
</ul>
</blockquote>
</li>
</ol>
<p>#. In folder <cite>C:AnacondaLibsite-packagesPyQt4pluginsdesignerpython</cite>, you
need to add a file called <cite>matplotlibplugin.py</cite> with these contents:</p>
<pre class="code python literal-block">
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="c">#</span>
<span class="c"># Copyright © 2009 Pierre Raybaut</span>
<span class="c"># Licensed under the terms of the MIT License</span>

<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QIcon</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtDesigner</span> <span class="kn">import</span> <span class="n">QPyDesignerCustomWidgetPlugin</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rcParams</span>
<span class="kn">from</span> <span class="nn">matplotlibwidget</span> <span class="kn">import</span> <span class="n">MatplotlibWidget</span>

<span class="n">rcParams</span><span class="p">[</span><span class="s">'font.size'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>

<span class="k">class</span> <span class="nc">MatplotlibPlugin</span><span class="p">(</span><span class="n">QPyDesignerCustomWidgetPlugin</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">QPyDesignerCustomWidgetPlugin</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">formEditor</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">isInitialized</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span>

    <span class="k">def</span> <span class="nf">createWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MatplotlibWidget</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">"MatplotlibWidget"</span>

    <span class="k">def</span> <span class="nf">group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">"Python(x,y)"</span>

    <span class="k">def</span> <span class="nf">icon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'datapath'</span><span class="p">],</span> <span class="s">'images'</span><span class="p">,</span> <span class="s">'matplotlib.png'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">QIcon</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">toolTip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">""</span>

    <span class="k">def</span> <span class="nf">whatsThis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">""</span>

    <span class="k">def</span> <span class="nf">isContainer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">domXml</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span> \
               <span class="s">'</span><span class="se">\n</span><span class="s">'</span>

    <span class="k">def</span> <span class="nf">includeFile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">"matplotlibwidget"</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">sys</span>
    <span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="n">widget</span> <span class="o">=</span> <span class="n">MatplotlibWidget</span><span class="p">()</span>
    <span class="n">widget</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span>
</pre>
<p>Add a file called <cite>matplotlibwidget.py</cite> in your <cite>site-packages</cite> folder, with contents:</p>
<pre class="code python literal-block">
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="c">#</span>
<span class="c"># Copyright © 2009 Pierre Raybaut</span>
<span class="c"># Licensed under the terms of the MIT License</span>

<span class="sd">"""
MatplotlibWidget
================

Example of matplotlib widget for PyQt4

Copyright © 2009 Pierre Raybaut
This software is licensed under the terms of the MIT License

Derived from 'embedding_in_pyqt4.py':
Copyright © 2005 Florent Rougon, 2006 Darren Dale
"""</span>

<span class="n">__version__</span> <span class="o">=</span> <span class="s">"1.0.0"</span>

<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QSizePolicy</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtCore</span> <span class="kn">import</span> <span class="n">QSize</span>

<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_qt4agg</span> <span class="kn">import</span> <span class="n">FigureCanvasQTAgg</span> <span class="k">as</span> <span class="n">Canvas</span>
<span class="kn">from</span> <span class="nn">matplotlib.figure</span> <span class="kn">import</span> <span class="n">Figure</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rcParams</span>
<span class="n">rcParams</span><span class="p">[</span><span class="s">'font.size'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>


<span class="k">class</span> <span class="nc">MatplotlibWidget</span><span class="p">(</span><span class="n">Canvas</span><span class="p">):</span>
    <span class="sd">"""
    MatplotlibWidget inherits PyQt4.QtGui.QWidget
    and matplotlib.backend_bases.FigureCanvasBase

    Options: option_name (default_value)
    -------
    parent (None): parent widget
    title (''): figure title
    xlabel (''): X-axis label
    ylabel (''): Y-axis label
    xlim (None): X-axis limits ([min, max])
    ylim (None): Y-axis limits ([min, max])
    xscale ('linear'): X-axis scale
    yscale ('linear'): Y-axis scale
    width (4): width in inches
    height (3): height in inches
    dpi (100): resolution in dpi
    hold (False): if False, figure will be cleared each time plot is called

    Widget attributes:
    -----------------
    figure: instance of matplotlib.figure.Figure
    axes: figure axes

    Example:
    -------
    self.widget = MatplotlibWidget(self, yscale='log', hold=True)
    from numpy import linspace
    x = linspace(-10, 10)
    self.widget.axes.plot(x, x**2)
    self.wdiget.axes.plot(x, x**3)
    """</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">''</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s">''</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                 <span class="n">xlim</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">xscale</span><span class="o">=</span><span class="s">'linear'</span><span class="p">,</span> <span class="n">yscale</span><span class="o">=</span><span class="s">'linear'</span><span class="p">,</span>
                 <span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="n">dpi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xscale</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="n">xscale</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">yscale</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="n">yscale</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xlim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">*</span><span class="n">xlim</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ylim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">*</span><span class="n">ylim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">hold</span><span class="p">(</span><span class="n">hold</span><span class="p">)</span>

        <span class="n">Canvas</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>

        <span class="n">Canvas</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">)</span>
        <span class="n">Canvas</span><span class="o">.</span><span class="n">updateGeometry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sizeHint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_width_height</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">QSize</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">minimumSizeHint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">QSize</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>



<span class="c">#===============================================================================</span>
<span class="c">#   Example</span>
<span class="c">#===============================================================================</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">sys</span>
    <span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QMainWindow</span><span class="p">,</span> <span class="n">QApplication</span>
    <span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">linspace</span>

    <span class="k">class</span> <span class="nc">ApplicationWindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">QMainWindow</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mplwidget</span> <span class="o">=</span> <span class="n">MatplotlibWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">'Example'</span><span class="p">,</span>
                                              <span class="n">xlabel</span><span class="o">=</span><span class="s">'Linear scale'</span><span class="p">,</span>
                                              <span class="n">ylabel</span><span class="o">=</span><span class="s">'Log scale'</span><span class="p">,</span>
                                              <span class="n">hold</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">yscale</span><span class="o">=</span><span class="s">'log'</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mplwidget</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mplwidget</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mplwidget</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
            <span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span>

    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="n">win</span> <span class="o">=</span> <span class="n">ApplicationWindow</span><span class="p">()</span>
    <span class="n">win</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span>
</pre>
<p>#. Edit <cite>C:AnacondaLibsite-packagesmatplotlibmpl-datamatplotlibrc</cite> such
that the line declaring the backend looks like</p>
<pre class="code python literal-block">
<span class="n">backend</span><span class="o">.</span><span class="n">qt4</span> <span class="p">:</span> <span class="n">PyQt4</span>        <span class="c"># PyQt4 | PySide</span>
</pre>
            
        
    <p>
        <a href="posts/anaconda-python-getting-the-matplotlib-widget-to-work-in-the-qt-designer.html#disqus_thread" data-disqus-identifier="cache/posts/anaconda-python-getting-the-matplotlib-widget-to-work-in-the-qt-designer.html">Comments</a>


        </p></div>
    
<div>
<ul class="pager">
</ul>
</div>

    
        
       <script type="text/javascript">var disqus_shortname="nikolademo";(function(){var a=document.createElement("script");a.async=true;a.type="text/javascript";a.src="http://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)}());</script>


	


        </div>
        <!--End of body content-->

        <footer>
            Contents © 2013         <a href="mailto:joe@demo.site">Your Name</a> - Powered by         <a href="http://getnikola.com">Nikola</a>         
        </footer>
    </div>
</div>


            <script src="assets/js/jquery-1.10.2.min.js" type="text/javascript"></script>
            <script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="assets/js/jquery.colorbox-min.js" type="text/javascript"></script>


	
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul><li><a class="addthis_button_facebook"></a>
</li><li><a class="addthis_button_google_plusone_share"></a>
</li><li><a class="addthis_button_linkedin"></a>
</li><li><a class="addthis_button_twitter"></a>
</li></ul>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


    <script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
    

</body>
</html>